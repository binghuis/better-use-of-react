# 状态是如何影响组件渲染的？

前面的章节我们提到了 `UI = F(state)` 这个公式，知道了组件的渲染是由状态决定的，那么状态具体是如何影响组件渲染的呢？

`React` 组件可以接收外部传入的 `props`，也可以有自己的 `state`，`props` 和 `state` 都属于组件的状态，当状态发生变化时，组件会重新渲染。

import CodeBlock from '@/components/CodeBlock'

<CodeBlock>

```Button.tsx
import React, { useState, useEffect } from 'react'
export default function App() {
  const [count, setCount] = useState(1)

  useEffect(() => {
    console.log('组件渲染了')
  }, [])

  function clickHandle() {
    setCount(v => v + 1)
  }

  return <div><button onClick={clickHandle}>+1</button>{count}</div>
}
```

```Button2.tsx
import React, { useState, useEffect } from 'react'
export default function App() {
  const [count, setCount] = useState(1)

  useEffect(() => {
    console.log('组件渲染了')
  }, [])

  function clickHandle() {
    setCount(v => v + 1)
  }

  return <div><button onClick={clickHandle}>+1</button>{count}</div>
}
```

```tsx
import Button from './Button'
import Button2 from './Button2'
export default function Example() {
  return (
    <div>
      <Button />
      <Button2 />
    </div>
  )
}
```

</CodeBlock>
